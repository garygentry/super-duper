<UserControl
    x:Class="SuperDuper.Controls.DirectoryTreeControl"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:local="using:SuperDuper.Controls">

    <TreeView x:Name="DirTree"
              SelectionMode="Single"
              AutomationProperties.Name="Directory tree">
        <TreeView.ItemTemplate>
            <DataTemplate>
                <Grid ColumnSpacing="6" Padding="0,2">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="3" />
                        <ColumnDefinition Width="Auto" />
                        <ColumnDefinition Width="*" />
                        <ColumnDefinition Width="Auto" />
                        <ColumnDefinition Width="Auto" />
                    </Grid.ColumnDefinitions>
                    <!-- Drive color stripe -->
                    <Rectangle Grid.Column="0" Fill="{Binding DriveColorBrush, Mode=OneTime}"
                               RadiusX="1" RadiusY="1" />
                    <!-- Folder icon -->
                    <FontIcon Grid.Column="1" Glyph="&#xE8B7;" FontSize="14"
                              VerticalAlignment="Center" />
                    <!-- Name (bold if has duplicates) -->
                    <TextBlock Grid.Column="2" Text="{Binding Name, Mode=OneTime}"
                               FontWeight="{Binding NameWeight, Mode=OneTime}"
                               VerticalAlignment="Center" />
                    <!-- Density badge -->
                    <local:DensityBadge Grid.Column="3"
                                        Count="{Binding DuplicateCount, Mode=OneTime}"
                                        Level="{Binding DensityLevel, Mode=OneTime}"
                                        Visibility="{Binding DuplicateVisibility, Mode=OneTime}" />
                    <!-- Review progress (16px ring) -->
                    <ProgressRing Grid.Column="4"
                                  Width="16" Height="16"
                                  IsIndeterminate="False"
                                  Value="{Binding ReviewProgress, Mode=OneTime}"
                                  Maximum="100"
                                  Visibility="{Binding DuplicateVisibility, Mode=OneTime}" />
                </Grid>
            </DataTemplate>
        </TreeView.ItemTemplate>
    </TreeView>
</UserControl>
